### Настройка файла config.json

Настройка состоит из основных настроек и настроек виджетов. 

### Основные настройки
| Параметр                     | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Пример                                                            |
|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
| token                        | Ключ доступа пользователя или сообщества с доступом к фотографиям и управлению сообществом ([Подробнее](https://dev.vk.com/api/access-token/getting-started#%D0%9A%D0%BB%D1%8E%D1%87%20%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0%20%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B0)). **Внимание!** Рекомендуется использовать ключ доступа пользователя, т.к. с ключом сообщества некоторые виджеты могут быть недоступны! Некоторые виджеты требуют ключ с дополнительным доступом, например, к стене сообщества. | vk1.asdajgke-va8                                                  |                                                                                                                                                                                                                                                                                                           |                                                                   |
| group_id                     | Идентификатор сообщества, для которого обновляется обложка. Имеет отрицательное значение.                                                                                                                                                                                                                                                                                                                                                                                                                                         | -123456789                                                        |
| app_id (необязательно)       | Идинтификатор приложения Вконтакте. Требуется, если включен виджет "Subcriber".                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 123123123                                                         |
| widget_cycle (необязательно) | Используется, если вы хотите переключать наборы виджетов друг за другом.                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ["widget_set1", "widget_set2"]                                    |
| widget_sets                  | Наборы виджетов в виде {"имя набора": ["имя_виджета_1", "имя_виджета_2", ...]}.                                                                                                                                                                                                                                                                                                                                                                                                                                                   | {"background": [...], "widget_set1": [...], "widget_set2": [...]} |

***
### Виджеты
###### Виджет
Виджет - это объект, отображающий определенную информацию на обложке сообщества. Каждый виджет имеет поле `name`. 
От имени зависят остальные поля и работа виджета. 

###### Наборы виджетов
Набор виджетов представляет собой список виджетов. Каждый набор имеет имя. 
Наборы с именами `background` и `frontground` отрисовывают виджеты перед всеми остальными и после соответственно.

###### Цикл виджетов
Если есть виджеты с другими именами, то их следует включить в поле `widget_cycle`.
Если в цикл виджетов включено несколько наборов, то они будут отрисовываться друг за другом подобно программам по телевизору.
Когда текущая программа будет последней в списке, следующая начнётся с начала списка. 

###### Наследование виджетов
Если в описании виджета написано, что он наследуется от другого виджета, значит, все параметры наследуемого виджета доступны для текущего, но, может быть, с некоторыми исключениями.

###### Аргументы виджета
Аргументами виджета является список ключевых слов. Такие слова можно подставлять в поле `text` в фигурных скобках.
При отрисовки виджета аргументы меняются на соответствующие им значения.

***
### Виджет Text
Предназначен для отрисовки текста.

| Параметр     | Описание                                                                                                                              | Пример                                         | По умолчанию |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|--------------|
| text         | Текст, который нужно отобразить                                                                                                       | "my text \n my text2"                          | ""           |
| font         | Информация о шрифте.                                                                                                                  | {"name": "font_name.ttf", "size": 12}          | `main_font`  |
| xy           | Координаты текста в пикселях.                                                                                                         | [10, 20]                                       | [0, 0]       |
| fill         | Цвет текста ([подробнее](https://pillow.readthedocs.io/en/stable/reference/ImageColor.html#color-names)).                             | "red"                                          | None         |
| anchor       | Выравнивание текста относительно `xy` ([подробнее](https://pillow.readthedocs.io/en/stable/handbook/text-anchors.html#text-anchors)). | "mm"                                           | None         |
| spacing      | Количество пикселей между строками, если текст многострочный.                                                                         | 10                                             | 4            |
| direction    | Направление текста: "rtl" (справа налево), "ltr" (слева направо), "ttb" (сверху вниз).                                                | "ttb"                                          | None         |
| stroke_width | Ширина обводки текста.                                                                                                                | 2                                              | 0            |
| stroke_fill  | Цвет обводки текста.                                                                                                                  | "red"                                          | None         |
| limit*       | Информация об ограничении символов на строку.                                                                                         | {"max": 100, "action": "delete", "end": "..."} | {}           |

##### * limit
| Параметр | Описание                                                                                                                                                                      | Пример    | По умолчанию |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|--------------|
| max      | Максимальное количество символов на строку                                                                                                                                    | 100       | None         |
| action   | Действие при достижении лимита. Возможные значения: `delete` - удалить все символы, превышающие лимит, `newline` - перенести все символы, превышающие лимит, на новую строку. | "newline" | None         |
| end      | Строка, ставящаяся после превышения лимита.                                                                                                                                   | "..."     | ""           |

**Внимание!** Если виджет `Text` включен в поле другого виджета, возможны следующие варианты:
1. можно указать виджет полностью (...: {"text": "my_text", ...}), название виджета указывать необязательно;
2. можно указать только текст виджета `Text` без других параметров (...: "my_text")

***
### Виджет TextSet
Предназначен для отрисовки нескольких виджетов `Text`.

| Параметр     | Описание                               | Пример                                                          | По умолчанию |
|--------------|----------------------------------------|-----------------------------------------------------------------|--------------|
| texts        | Список из виджетов `Text`.             | [{"text": "text1", "xy": [10, 25]}, "text without widget Text"] | []           |
| default_args | Аргументы виджета `Text` по умолчанию. | {"font": {"font.ttf", "size": 12}, "fill": "black}              | {}           |

**Внимание!** Если виджет `TextSet` включен в поле другого виджета, возможны следующие варианты:
1. можно указать виджет полностью (...: {"texts": [..., ...], "default_args": {...}}), название виджета указывать необязательно;
2. можно указать только **список** виджетов `Text` или текста (...: [{"name:": "Text", ...}, "text without widget Text"]);
3. можно указать виджет `Text` (...: {"name": "Text", ...}), название виджета указывать необязательно;
4. можно указать только текст виджета `Text` (...: "my text").

***
### Виджет Picture
Предназначен для отображения картинки.

| Параметр | Описание                                                                                                                                                                                                                                                                                                                                                                                          | Примеры                  | По умолчанию |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|--------------|
| path     | Полный путь до картинки.                                                                                                                                                                                                                                                                                                                                                                          | /pictures/pic.png        | None         |
| url      | URL картинки. Если установлен `path`, то `url` игнорируется.                                                                                                                                                                                                                                                                                                                                      | https://pictures/pic.png | None         |
| xy       | Координаты левого верхнего угла картинки в пикселях.                                                                                                                                                                                                                                                                                                                                              | [10, 20]                 | [0, 0]       |
| resize   | Информация об изменении размера картинки. Значение представляет собой пару `[width, height]`, где `width`, `height` - количество пикселей, на которое необходимо изменить размер картинки по длине и ширине соответственно. Значения `width` или `height` могут быть строкой "auto", если необходимо пропорцианально изменить размер. Если оба значения являются "auto", то ничего не произойдет. | [100, "auto"]            | None         |

***
### Виджет Date
Предназначен для отображения даты и времени.

Виджет `Date` наследуется от виджета `TextSet`.

| Параметр | Описание                                                                                                      | Пример                                                 | По умолчанию                             |
|----------|---------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|------------------------------------------|
| shift    | Информация в виде `{аргумент: смещение}`, показывающая, какое необходимо сделать смещение в дате или времени. | {"day": 2, "hour": -3}                                 | Смещение по каждому аргументу равно нулю |

**Внимание!** Если виджет `Date` включен в поле другого виджета, возможны следующие варианты:
1. можно указать виджет полностью (...: {"text": ..., "shift": {...}}), название виджета указывать необязательно;
2. можно указать только **список** виджетов `Text` или текста (...: [{"name:": "Text", ...}, "text without widget Text"]);
4. можно указать только текст виджета `Date` без других параметров (...: "date: ...:)

#### Аргументы даты и времени:
1. year - год;
2. month - номер месяца (1 - январь, 12 - декабрь);
3. \* month_rus - название месяца в именительном падеже ("январь", "декабрь");
4. \* month_rus_r - название месяца в родительном падеже ("января", "декабря");
5. week - номер дня недели (1 - понедельник, 7 - воскресенье);
6. \* week_rus - название дня недели ("понедельник", "воскресенье");
7. day - день месяца;
8. hour - часы;
9. minute - минуты;
10. second - секунды.

##### * Данные параметры не могут быть поставлены в качестве аргумента в параметре `shift`.

***
### Виджет RandomPicture
Предназначен для отображения рандомной картинки.

Виджет `RandomPicture` наследуется от виджета `Picture`. Недоступны параметры `path` и `url`.

| Параметр   | Описание                                                                                                                                                                            | Пример        | По умолчанию                   |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------------------|
| path       | Путь до директории с картинками.                                                                                                                                                    | "/path/pics"  | None                           |
| group_id   | Идентификатор сообщества, из альбома которого будут браться картинки.                                                                                                               | -123456789    | group_id из основных настроек  |
| album_id   | Идентификатор альбома, из которого будут браться картинки. Возможны отрицательные значения для сервисных альбомов. Если установлен `path`, то `group_id` и `album_id` игнорируются. | 12345123      | None                           |

**Внимание! Виджет требует ключ доступа пользователя**

***
### Виджет Statistics
Предназначен для отображения статистики сообщества.

Виджет `Statistics` наследуется от виджета `TextSet`.

| Параметр | Описание                                                                                            | Примеры                                             | По умолчанию                  |
|----------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------|-------------------------------|
| interval | Временной интервал получения статистики. Возможные значения: `day`, `week`, `month`, `year`, `all`. | "month" (статистика за последний месяц)             | "day"                         |
| group_id | Идентификатор сообщества, из которого нужно взять статистику.                                       | -1234456                                            | group_id из основных настроек |

#### Аргументы статистики:
1. members_count - количество подписчиков (не зависит от `interval`);
2. comments - количество комментариев;
3. copies - количество репостов;
4. hidden - количество пользователей, скрывших записи из новостей;
5. likes - количество отметок «нравится»;
6. subscribed - количество подписавшихся пользователей на сообщество;
7. unsubscribed - количество отписавшихся пользователей на сообщество;
8. views - число просмотров;
9. visitors - число посетителей;
10. reach - полный охват;
11. reach_subscribers - охват подписчиков;
12. mobile_reach - охват с мобильных устройств.

***
### Виджет Profile
Предназначен для вывода информации о пользователе и его аватарки.

Виджет `Profile` наследуется от виджета `TextSet`.

| Параметр | Описание                     | Примеры                    | По умолчанию       |
|----------|------------------------------|----------------------------|--------------------|
| avatar   | Аватар пользователя*.        | {...}                      | None - без аватара |
| user_id  | Идентификатор пользователя.  | 12345                      | None               |

#### * Аватар пользователя:

Аватар наследуется от виджета `TextSet`.

| Параметр       | Описание                                                                                                                                                      | Пример                    | По умолчанию |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|--------------|
| crop_type      | Тип вырезанного фото пользователя. Возможные значения: `original` - оригинальная фотография, `crop` - вырезанная фотография, `small` - миниатюрная фотография | small                     | crop         |
| default_path   | Путь до фотографии по умолчанию. Используется, если у пользователя отсутствует аватар.                                                                        | "path/img.png"            | None         |
| default_url    | URL фотографии по умолчанию. Игнорируется, если установлен `default_path`.                                                                                    | "https://example/img.png" | None         |

##### Аргументы пользователя:
1. first_name - имя;
2. last_name - фамилия.

***
### Виджет Subscriber
Предназначен для вывода рейтинга среди подписчиков.

Виджет позволяет вывести лучших лайкеров, комментаторов, репостеров за выбранный период; 
настроить собственный подсчёт очков; 
вывести последних людей, подписавшихся на сообщество.  

**Внимание! Виджет требует параметр `app_id` в основных настройках, а также ключ доступа с правом доступа к стене сообщества.**

| Параметр       | Описание                                                                                                                                                                                                           | Пример                                         | По умолчанию                           |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|----------------------------------------|
| group_id       | Идентификатор сообщества, рейтинг которого необходимо получить                                                                                                                                                     | -1123345                                       | group_id из основных настроек          |
| period         | Период, за который ведётся рейтинг. По истечению периода вся статистика сбрасывается. Все очки начисляются только за те посты, которые входят в данный период. Возможные значения: `day`, `week`, `month`, `year`. | "year"                                         | "month"                                |
| point_weights  | Вес очков в формате `{позиция: вес}`, которые даются за каждую из позиций (лайк, коммент, репост). Возможные позиции: `likes`, `comments`, `reposts`, `posts`.                                                     | {"like": 1, "comment": 2, "repost": 3}         | {"like": 0, "comment": 0, "repost": 0} |
| like_places    | Список из `MemberPlace` рейтинга по лайкам.                                                                                                                                                                        | [..., ...]                                     | []                                     |
| repost_places  | Список из `MemberPlace` рейтинга по репостам.                                                                                                                                                                      | [..., ...]                                     | []                                     |
| comment_places | Список из `MemberPlace` рейтинга по комментам.                                                                                                                                                                     | [..., ...]                                     | []                                     |
| post_places    | Список из `MemberPlace` рейтинга по опубликованым постам.                                                                                                                                                          | [..., ...]                                     | []                                     |
| point_places   | Список из `MemberPlace` собственного рейтинга на основе `point_weights`.                                                                                                                                           | [..., ...]                                     | []                                     |
| lastSub_places | Список из `MemberPlace` последних подписчиков.                                                                                                                                                                     | [..., ...]                                     | []                                     |
| period_info    | Информация о периоде*.                                                                                                                                                                                             | {"text": "Рейтинг с {date_from} по {date_to}"} | {}                                     |
| ban_list       | Список из идентификаторов пользователей, чей рейтинг не учитывать                                                                                                                                                  | [123456, 8765423]                              | []                                     |


##### * Информация о периоде

Информация о периоде наследуется от виджета `TextSet`.

| Параметр  | Описание                                               | Пример                                         | По умолчанию                     |
|-----------|--------------------------------------------------------|------------------------------------------------|----------------------------------|
| date_from | Строка с аргументами даты и времени. Начало периода.   | "{day} {month_rus}"                            | {"texts": "{day}.{month}.{year}} | 
| date_to   | Строка с аргументами даты и времени. Конец периода.    | "{day} {month_rus}"                            | {"texts": "{day}.{month}.{year}} |

##### Аргументы информации о периоде:
1. date_from - дата начала периода;
2. date_to - дата конца периода.

#### MemberPlace
MemberPlace отображает информацию о лидере.
Каждый i-ый MemberPlace в массиве указывает, где должна находится информация об i-ом лидере.

MemberPlace наследуется от виджета `TextSet`.

| Параметр       | Описание                                                                                                                                                                   | Пример                                                   | По умолчанию |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|--------------|
| profile        | Виджет `Profile` без указания поля `user_id`.                                                                                                                              | ["text": "Лучший комментатор: {first_name} {last_name}"] | []           |
| random_avatar  | Виджет `RandomPicture`. Если установлен, выбирает для пользователя аватарку по следующей формуле: `user_id` % `N`, где `N` - количество картинок в директории или альбоме. | {...}                                                    | None         |

##### Аргументы информации о пользователе и его статистике:
1. likes - количество лайков;
2. comments - количество комментариев;
3. reposts - количество репостов;
4. points - количество очков.