### Настройка файла config.json

Настройка состоит из основных настроек и настроек виджетов. 

### Основные настройки
| Параметр                     | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Пример                                                            |
|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
| token                        | Ключ доступа пользователя или сообщества с доступом к фотографиям и управлению сообществом ([Подробнее](https://dev.vk.com/api/access-token/getting-started#%D0%9A%D0%BB%D1%8E%D1%87%20%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0%20%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B0)). **Внимание!** Рекомендуется использовать ключ доступа пользователя, т.к. с ключом сообщества некоторые виджеты могут быть недоступны! Некоторые виджеты требуют ключ с дополнительным доступом, например, к стене сообщества. | vk1.asdajgke-va8                                                  |                                                                                                                                                                                                                                                                                                           |                                                                   |
| group_id                     | Идентификатор сообщества, для которого обновляется обложка. Имеет отрицательное значение.                                                                                                                                                                                                                                                                                                                                                                                                                                         | -123456789                                                        |
| app_id (необязательно)       | Идинтификатор приложения Вконтакте. Требуется, если включен виджет "Subcriber".                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 123123123                                                         |
| main_font (необязательно)    | Информация о шрифте, используемом по умолчанию.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | {"name": "font_name.ttf", "size": 12}                             |
| widget_cycle (необязательно) | Используется, если вы хотите переключать наборы виджетов друг за другом.                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ["widget_set1", "widget_set2"]                                    |
| widget_sets                  | Наборы виджетов в виде {"имя набора": ["имя_виджета_1", "имя_виджета_2", ...]}.                                                                                                                                                                                                                                                                                                                                                                                                                                                   | {"background": [...], "widget_set1": [...], "widget_set2": [...]} |

***
### Виджеты
###### Виджет
Виджет - это объект, отображающий определенную информацию на обложке сообщества. Каждый виджет имеет поле `name`. 
От имени зависят остальные поля и работа виджета. 

###### Наборы виджетов
Набор виджетов представляет собой список виджетов. Каждый набор имеет имя. 
Наборы с именами `background` и `frontground` отрисовывают виджеты перед всеми остальными и после соотвественно.

###### Цикл виджетов
Если есть виджеты с другими именами, то их следует включить в поле `widget_cycle`.
Если в цикл виджетов включено несколько наборов, то они будут отрисовываться друг за другом подобно программам на телевизору.
Когда текущая программа будет последней в списке, следущая начнётся с начала списка. 

***
### Виджет Text
Предназначен для отрисовки текста.

| Параметр     | Описание                                                                                                                              | Пример                                         | По умолчанию |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|--------------|
| text         | Текст, который нужно отобразить                                                                                                       | "my text \n my text2"                          | ""           |
| font         | Информация о шрифте.                                                                                                                  | {"name": "font_name.ttf", "size": 12}          | `main_font`  |
| xy           | Координаты текста в пикселях.                                                                                                         | [10, 20]                                       | [0, 0]       |
| fill         | Цвет текста ([подробнее](https://pillow.readthedocs.io/en/stable/reference/ImageColor.html#color-names)).                             | "red"                                          | None         |
| anchor       | Выравнивание текста относительно `xy` ([подробнее](https://pillow.readthedocs.io/en/stable/handbook/text-anchors.html#text-anchors)). | "mm"                                           | None         |
| spacing      | Количество пикселей между строками, если текст многострочный.                                                                         | 10                                             | 4            |
| direction    | Направление текста: "rtl" (справа налево), "ltr" (слева направо), "ttb" (сверху вниз).                                                | "ttb"                                          | None         |
| stroke_width | Ширина обводки текста.                                                                                                                | 2                                              | 0            |
| stroke_fill  | Цвет обводки текста.                                                                                                                  | "red"                                          | None         |
| limit*       | Информация об ограничении символов на строку.                                                                                         | {"max": 100, "action": "delete", "end": "..."} | {}           |

##### * limit
| Параметр | Описание                                                                                                                                                                      | Пример    | По умолчанию |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|--------------|
| max      | Максимальное количество символов на строку                                                                                                                                    | 100       | None         |
| action   | Действие при достижении лимита. Возможные значения: `delete` - удалить все символы, превышающие лимит, `newline` - перенести все символы, превышающие лимит, на новую строку. | "newline" | None         |
| end      | Строка, ставящаяся после превышения лимита.                                                                                                                                   | "..."     | ""           |


***
### Виджет TextSet
Предназначен для отрисовки нескольких виджетов `Text`.

| Параметр | Описание                                                               | Пример                                                                | По умолчанию |
|----------|------------------------------------------------------------------------|-----------------------------------------------------------------------|--------------|
| texts    | Список из виджетов `Text`. Указывать имя виджета `Text` необязательно. | [{"text": "text1", "xy": [10, 25]}, "text": "text2", "xy": [20, 300]] | []           |


***
### Виджет Picture
Предназначен для отображения картинки.

| Параметр | Описание                                                                                                                                                                                                                                                                                                                                                                                          | Примеры                  | По умолчанию |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|--------------|
| path     | Полный путь до картинки.                                                                                                                                                                                                                                                                                                                                                                          | /pictures/pic.png        | None         |
| url      | URL картинки. Если установлен `path`, то `url` игнорируется.                                                                                                                                                                                                                                                                                                                                      | https://pictures/pic.png | None         |
| xy       | Координаты левого верхнего угла картинки в пикселях.                                                                                                                                                                                                                                                                                                                                              | [10, 20]                 | [0, 0]       |
| resize   | Информация об изменении размера картинки. Значение представляет собой пару `[width, height]`, где `width`, `height` - количество пикселей, на которое необходимо изменить размер картинки по длине и ширине соответственно. Значения `width` или `height` могут быть строкой "auto", если необходимо пропорцианально изменить размер. Если оба значения являются "auto", то ничего не произойдет. | [100, "auto"]            | None         |

***
### Виджет Date
Предназначен для отображения даты и времени.

| Параметр | Описание                                                                                                      | Пример                                                 | По умолчанию                             |
|----------|---------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|------------------------------------------|
| texts    | Список виджета `TextSet` с аргументами*.                                                                      | ["text": "{day} {month_rus} {hoar}:{minute}:{second}"] | []                                       |
| shift    | Информация в виде `{аргумент: смещение}`, показывающая, какое необходимо сделать смещение в дате или времени. | {"day": 2, "hour": -3}                                 | Смещение по каждому аргументу равно нулю |

#### * Аргументы даты и времени:
1. year - год;
2. month - номер месяца (1 - январь, 12 - декабрь);
3. ** month_rus - название месяца в именительном падеже ("январь", "декабрь");
4. ** month_rus_r - название месяца в родительном падеже ("января", "декабря");
5. week - номер дня недели (1 - понедельник, 7 - воскресенье);
6. ** week_rus - название дня недели ("понедельник", "воскресенье");
7. day - день месяца;
8. hour - часы;
9. minute - минуты;
10. second - секунды.

##### ** Данные параметры не могут быть поставлены в качестве аргумента в параметре `shift`.

***
### Виджет RandomPicture
Предназначен для отображения рандомной картинки.

| Параметр   | Описание                                                                                                                                                                            | Пример        | По умолчанию                   |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------------------|
| path       | Путь до директории с картинками.                                                                                                                                                    | "/path/pics"  | None                           |
| group_id   | Идентификатор сообщества, из альбома которого будут браться картинки.                                                                                                               | -123456789    | group_id из основных настроек  |
| album_id   | Идентификатор альбома, из которого будут браться картинки. Возможны отрицательные значения для сервисных альбомов. Если установлен `path`, то `group_id` и `album_id` игнорируются. | 12345123      | None                           |
| *          |
##### * Остальные параметры соответствуют параметрам виджета `Picture`, кроме параметра `url` и `path`.

**Внимание! Виджет требует ключ доступа пользователя**

***
### Виджет Statistics
Предназначен для отображения статистики сообщества.

| Параметр | Описание                                                                                            | Примеры                                             | По умолчанию                  |
|----------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------|-------------------------------|
| texts    | Список виджета `TextSet` с аргументами*.                                                            | ["text": "Количество подписчиков: {members_count}"  | []                            |
| interval | Временной интервал получения статистики. Возможные значения: `day`, `week`, `month`, `year`, `all`. | "month" (статистика за последний месяц)             | "day"                         |
| group_id | Идентификатор сообщества, из которого нужно взять статистику.                                       | -1234456                                            | group_id из основных настроек |

#### * Аргументы статистики:
1. members_count - количество подписчиков (не зависит от `interval`);
2. comments - количество комментариев;
3. copies - количество репостов;
4. hidden - количество пользователей, скрывших записи из новостей;
5. likes - количество отметок «нравится»;
6. subscribed - количество подписавшихся пользователей на сообщество;
7. unsubscribed - количество отписавшихся пользователей на сообщество;
8. views - число просмотров;
9. visitors - число посетителей;
10. reach - полный охват;
11. reach_subscribers - охват подписчиков;
12. mobile_reach - охват с мобильных устройств.

***
### Виджет Subscriber
Предназначен для вывода рейтинга среди подписчиков.

Виджет позволяет вывести лучших лайкеров, комментаторов, репостеров за выбранный период; 
настроить собственный подсчёт очков; 
вывести последних людей, подписавшихся на на сообщество.  

**Внимание! Виджет требует параметр `app_id` в основных настройках, а также ключ доступа с правом доступа к стене сообщества.**

| Параметр       | Описание                                                                                                                                                                                                           | Пример                                 | По умолчанию                           |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|----------------------------------------|
| group_id       | Идентификатор сообщества, рейтинг которого необходимо получить                                                                                                                                                     | -1123345                               | group_id из основных настроек          |
| period         | Период, за который ведётся рейтинг. По истечению периода вся статистика сбрасывается. Все очки начисляются только за те посты, которые входят в данный период. Возможные значения: `day`, `week`, `month`, `year`. | "year"                                 | "month"                                |
| point_weights  | Вес очков в формате `{позиция: вес}`, которые даются за каждую из позиций (лайк, коммент, репост). Возможные позиции: `likes`, `comments`, `reposts`.                                                              | {"like": 1, "comment": 2, "repost": 3} | {"like": 0, "comment": 0, "repost": 0} |
| like_places    | Список из `MemberPlace` рейтинга по лайкам.                                                                                                                                                                        | [..., ...]                             | []                                     |
| repost_places  | Список из `MemberPlace` рейтинга по репостам.                                                                                                                                                                      | [..., ...]                             | []                                     |
| comment_places | Список из `MemberPlace` рейтинга по комментам.                                                                                                                                                                     | [..., ...]                             | []                                     |
| point_places   | Список из `MemberPlace` собственного рейтинга на основе `point_weights`.                                                                                                                                           | [..., ...]                             | []                                     |
| lastSub_places | Список из `MemberPlace` последних подписчиков.                                                                                                                                                                     | [..., ...]                             | []                                     |

#### MemberPlace
MemberPlace отображает информацию о лидере.

Каждый i-ый MemberPlace в массиве указывает, где должна находится информация об i-ом лидере.

| Параметр | Описание                                 | Пример                                                   | По умолчанию |
|----------|------------------------------------------|----------------------------------------------------------|--------------|
| texts    | Список виджета `TextSet` с аргументами*. | ["text": "Лучший комментатор: {first_name} {last_name}"] | []           |
| avatar** | Аватарка пользователя.                   | {"xy": [30, 45], "resize": [100, 100]}                   | {}           |

##### * Аргументы информации о пользователе и его статистике:
1. first_name - имя;
2. last_name - фамилия;
3. likes - количество лайков;
4. comments - количество комментариев;
5. reposts - количество репостов;
6. points - количество очков.

##### ** Avatar
| Параметр  | Описание                                                                                                                                                      | Пример | По умолчанию |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|--------|--------------|
| crop_type | Тип вырезанного фото пользователя. Возможные значения: `original` - оригинальная фотография, `crop` - вырезанная фотография, `small` - миниатюрная фотография | small  | crop         |
| *         |                                                                                                                                                               |        |              |

##### * Остальные параметры соответствуют параметрам виджета `Picture`, кроме параметров `url` и `path`.

